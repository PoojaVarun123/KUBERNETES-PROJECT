=========================================================================================
NAMESPACE
=========================================================================================
âœ… Hereâ€™s a set of ready-to-use Kubernetes YAMLs for 
Namespace creation
Resource Quota
LimitRange
RoleBinding
NetworkPolicy
-----------------------------------------------------------------------------------------
ğŸš€ 1ï¸âƒ£ Namespace Creation

apiVersion: v1
kind: Namespace
metadata:
  name: dev
-----------------------------------------------------------------------------------------  
ğŸš€ 2ï¸âƒ£ ResourceQuota YAML (Limit resources in the namespace)

apiVersion: v1
kind: ResourceQuota
metadata:
  name: dev-resource-quota
  namespace: dev
spec:
  hard:
    pods: "10"
    requests.cpu: "2"
    requests.memory: "4Gi"
    limits.cpu: "4"
    limits.memory: "8Gi"

âœ… Controls:
Max pods = 10
Max CPU = 4 cores
Max Memory = 8Gi
-----------------------------------------------------------------------------------------
ğŸš€ 3ï¸âƒ£ LimitRange YAML (Set default CPU/memory per pod/container)
âœ… Sets default requests and limits for containers in the namespace.

apiVersion: v1
kind: LimitRange
metadata:
  name: dev-limit-range
  namespace: dev
spec:
  limits:
  - default:
      cpu: "500m"
      memory: "512Mi"
    defaultRequest:
      cpu: "200m"
      memory: "256Mi"
    type: Container
-----------------------------------------------------------------------------------------
ğŸš€ 4ï¸âƒ£ RoleBinding YAML (User Access Control in Namespace)
âœ… Gives user Alice read-only access (view) inside the dev namespace.

apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: dev-readonly-binding
  namespace: dev
subjects:
- kind: User
  name: alice@example.com        # Update with your IAM username or serviceaccount
roleRef:
  kind: Role
  name: view                     # Use existing "view" role
  apiGroup: rbac.authorization.k8s.io
-----------------------------------------------------------------------------------------
ğŸš€ 5ï¸âƒ£ Default Deny All NetworkPolicy YAML (Zero Trust)
âœ… Denies all traffic until specific policies are created.

apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: dev-deny-all
  namespace: dev
spec:
  podSelector: {}
  policyTypes:
  - Ingress
  - Egress

------------------------------------------------------------------------------------------------------------------------
âœ… How to Apply All:
kubectl apply -f namespace.yaml
kubectl apply -f resourcequota.yaml
kubectl apply -f limitrange.yaml
kubectl apply -f rolebinding.yaml
kubectl apply -f networkpolicy.yaml
---
ğŸ‘‰ These YAMLs give you:

Namespace isolation
Resource restrictions
Role-based access
Strict Zero Trust networking
===========================================================================================================================
âœ… Perfect! For environment isolation in Kubernetes, you typically create separate namespaces for each environmentâ€”
such as dev, staging, and productionâ€”and apply resource limits, access controls, and network policies to isolate them.
Hereâ€™s a full YAML-based setup for environment isolation:
---
ğŸš€ 1ï¸âƒ£ Create Namespaces for Environment Isolation

apiVersion: v1
kind: Namespace
metadata:
  name: dev
---
apiVersion: v1
kind: Namespace
metadata:
  name: staging
---
apiVersion: v1
kind: Namespace
metadata:
  name: production

âœ… This creates three isolated environments: dev, staging, and production.
---
ğŸš€ 2ï¸âƒ£ Apply ResourceQuota per Environment

âœ… Example: production namespace stricter limits

apiVersion: v1
kind: ResourceQuota
metadata:
  name: prod-quota
  namespace: production
spec:
  hard:
    pods: "50"
    requests.cpu: "10"
    requests.memory: "32Gi"
    limits.cpu: "20"
    limits.memory: "64Gi"

ğŸ‘‰ Create similar smaller quotas for dev and staging namespaces.
---------------------------------------------------------------------
ğŸš€ 3ï¸âƒ£ Apply LimitRange per Environment
âœ… Example: default pod resource limits for staging:

apiVersion: v1
kind: LimitRange
metadata:
  name: staging-limitrange
  namespace: staging
spec:
  limits:
  - default:
      cpu: "1"
      memory: "1Gi"
    defaultRequest:
      cpu: "500m"
      memory: "512Mi"
    type: Container

-----------------------------------------------------------------------

ğŸš€ 4ï¸âƒ£ RBAC RoleBinding for Team Access Isolation
âœ… Example: **grant only Devops team access to production
-----------------------------------------------------------------------
NAMESPACE : MONITORING AND LOGGING

ğŸš€ 1ï¸âƒ£ Namespaces for Monitoring & Logging:

apiVersion: v1
kind: Namespace
metadata:
  name: monitoring
---
apiVersion: v1
kind: Namespace
metadata:
  name: logging

âœ… Creates two dedicated namespaces:
monitoring â†’ for Prometheus, Grafana, AlertManager, etc.
logging â†’ for Loki, Fluent Bit, Elasticsearch, etc.

----------------------------------------------------------------------------------------------
ğŸš€ 2ï¸âƒ£ Deploying Monitoring Stack (Prometheus + Grafana) â” in monitoring namespace:

âœ… Prometheus Example (Helm or YAML):

helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
helm install kube-prometheus prometheus-community/kube-prometheus-stack --namespace monitoring --create-namespace

âœ… Grafana will also be included automatically.
----------------------------------------------------------------------------------------------
ğŸš€ 3ï¸âƒ£ Deploying Logging Stack (Loki + Fluent Bit) â” in logging namespace:

âœ… Loki + Grafana Example:

helm repo add grafana https://grafana.github.io/helm-charts
helm install loki grafana/loki-stack --namespace logging --create-namespace

âœ… Fluent Bit will push logs to Loki, and Grafana will visualize them.
----------------------------------------------------------------------------------------------
ğŸš€ 4ï¸âƒ£ Apply ResourceQuota to Monitoring & Logging Namespaces:

apiVersion: v1
kind: ResourceQuota
metadata:
  name: monitoring-quota
  namespace: monitoring
spec:
  hard:
    pods: "10"
    requests.cpu: "4"
    requests.memory: "8Gi"

ğŸ‘‰ Apply similar quotas to the logging namespace.
----------------------------------------------------------------------------------------------
ğŸš€ 5ï¸âƒ£ Apply LimitRange to Control Pod Sizes:

apiVersion: v1
kind: LimitRange
metadata:
  name: monitoring-limit-range
  namespace: monitoring
spec:
  limits:
  - default:
      cpu: "500m"
      memory: "1Gi"
    defaultRequest:
      cpu: "200m"
      memory: "512Mi"
    type: Container
-------------------------------------------------------------------------------------------------
ğŸš€ 6ï¸âƒ£ Apply NetworkPolicy (Optional) â” Isolate Monitoring & Logging:

apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: deny-all-monitoring
  namespace: monitoring
spec:
  podSelector: {}
  policyTypes:
  - Ingress
  - Egress

âœ… Strict Zero Trust â” then open specific policies as needed.

----------------------------------------------------------------------------------------------
âœ… Real-Time Production Practice:

Namespace What Goes Inside
monitoring > Prometheus, Grafana, Alertmanager, Blackbox
logging >  Loki, Fluent Bit, Elasticsearch, Kibana
dev > Dev applications
staging > Staging applications
production > Prod applications



---

ğŸ‘‰ Why separate namespaces?

Better resource control

Easier RBAC and team permissions

Clean log and metrics separation
